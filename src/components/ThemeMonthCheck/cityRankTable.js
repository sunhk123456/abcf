/**
 *
 * <p>Title: BONC - React </p>
 *
 * <p>Description: cityRankTable/p>
 *
 * <p>Copyright: Copyright BONC(c) 2018 - 2025 </p>
 *
 * <p>Company: 北京东方国信科技股份有限公司</p>
 *
 * @author wangxue
 * @date 2019/2/26/026
 */
import React, {PureComponent} from "react"
import { connect } from 'dva';
import {Table,Button} from 'antd';
import styles from "./cityRankTable.less"
import DownloadFile from "@/utils/downloadFile"

@connect(({ThemeMonthCheckModels}) => ({ThemeMonthCheckModels}))
class CityRankTable extends PureComponent {

  constructor(props) {
    super(props)
    this.tableScrollRef=React.createRef()
    this.state = {
      choose:1,
      "data": {
        "unit": [
          "-"
          ,
          "万元"
          ,
          "万户"
          ,
          "万户"
          ,
          "%"
          ,
          "%"
          ,
          "万元"
          ,
          "万户"
          ,
          "万元"
          ,
          "万元"
          ,
          "万户"
          ,
          "%"
          ,
          "户"

        ],
        "detail": [
          {
            "prov":
              "全国"
            ,
            "items":
              [
                "14,084,717.98"
                ,
                "-1,785.15"
                ,
                "501.21"
                ,
                "60.23"
                ,
                "11.97"
                ,
                "95,296.26"
                ,
                "2,482.24"
                ,
                "219,912.36"
                ,
                "3,526,560.93"
                ,
                "168.08"
                ,
                "48.95"
                ,
                "7,459,370"

              ]

          }
          ,
          {
            "prov":
              "北十省"
            ,
            "items":
              [
                "5,971,520.56"
                ,
                "-589.38"
                ,
                "246.16"
                ,
                "61.32"
                ,
                "12.12"
                ,
                "70,898.81"
                ,
                "1,340.59"
                ,
                "106,568.11"
                ,
                "2,627,274.19"
                ,
                "57.38"
                ,
                "52.31"
                ,
                "5,462,406"

              ]

          }
          ,
          {
            "prov":
              "南二十一"
            ,
            "items":
              [
                "7,928,627.22"
                ,
                "-1,195.73"
                ,
                "255.05"
                ,
                "59.57"
                ,
                "11.84"
                ,
                "24,397.45"
                ,
                "1,141.65"
                ,
                "113,344.25"
                ,
                "808,681.77"
                ,
                "110.70"
                ,
                "40.61"
                ,
                "1,996,964"

              ]

          }
          ,
          {
            "prov":
              "北京"
            ,
            "items":
              [
                "722,094.32"
                ,
                "-73.04"
                ,
                "21.69"
                ,
                "69.66"
                ,
                "8.85"
                ,
                "6,720.65"
                ,
                "71.90"
                ,
                "8,452.08"
                ,
                "396,070.35"
                ,
                "4.57"
                ,
                "59.97"
                ,
                "367,427"

              ]

          }
          ,
          {
            "prov":
              "天津"
            ,
            "items":
              [
                "298,131.03"
                ,
                "-12.46"
                ,
                "6.72"
                ,
                "69.31"
                ,
                "5.75"
                ,
                "-316.61"
                ,
                "47.07"
                ,
                "2,490.24"
                ,
                "149,590.93"
                ,
                "12.28"
                ,
                "72.92"
                ,
                "139,794"

              ]

          }
          ,
          {
            "prov":
              "河北"
            ,
            "items":
              [
                "663,685.55"
                ,
                "-121.76"
                ,
                "20.57"
                ,
                "56.78"
                ,
                "9.14"
                ,
                "12,908.67"
                ,
                "164.46"
                ,
                "10,241.64"
                ,
                "271,079.17"
                ,
                "-4.80"
                ,
                "40.16"
                ,
                "629,114"

              ]

          }
          ,
          {
            "prov":
              "山西"
            ,
            "items":
              [
                "386,432.21"
                ,
                "1.73"
                ,
                "12.63"
                ,
                "61.91"
                ,
                "11.02"
                ,
                "3,666.59"
                ,
                "104.63"
                ,
                "7,151.31"
                ,
                "191,755.27"
                ,
                "3.28"
                ,
                "50.66"
                ,
                "474,315"

              ]

          }
          ,
          {
            "prov":
              "内蒙古"
            ,
            "items":
              [
                "298,310.17"
                ,
                "-46.85"
                ,
                "19.99"
                ,
                "70.32"
                ,
                "4.30"
                ,
                "-174.27"
                ,
                "79.15"
                ,
                "7,233.27"
                ,
                "169,866.52"
                ,
                "-7.12"
                ,
                "35.88"
                ,
                "543,139"

              ]

          }
          ,
          {
            "prov":
              "辽宁"
            ,
            "items":
              [
                "573,005.87"
                ,
                "-14.45"
                ,
                "16.01"
                ,
                "65.94"
                ,
                "17.79"
                ,
                "12,364.08"
                ,
                "123.95"
                ,
                "11,881.94"
                ,
                "318,671.05"
                ,
                "12.41"
                ,
                "64.27"
                ,
                "521,329"

              ]

          }
          ,
          {
            "prov":
              "吉林"
            ,
            "items":
              [
                "357,379.79"
                ,
                "-67.29"
                ,
                "29.19"
                ,
                "55.20"
                ,
                "13.74"
                ,
                "3,257.72"
                ,
                "93.45"
                ,
                "6,903.49"
                ,
                "142,939.13"
                ,
                "-6.85"
                ,
                "40.11"
                ,
                "59,618"

              ]

          }
          ,
          {
            "prov":
              "黑龙江"
            ,
            "items":
              [
                "335,305.00"
                ,
                "4.66"
                ,
                "10.18"
                ,
                "59.90"
                ,
                "8.92"
                ,
                "-637.32"
                ,
                "81.32"
                ,
                "6,106.35"
                ,
                "202,913.72"
                ,
                "-14.55"
                ,
                "64.74"
                ,
                "208,313"

              ]

          }
          ,
          {
            "prov":
              "山东"
            ,
            "items":
              [
                "1,253,408.70"
                ,
                "-206.21"
                ,
                "56.34"
                ,
                "55.33"
                ,
                "19.65"
                ,
                "25,290.02"
                ,
                "324.75"
                ,
                "24,136.26"
                ,
                "473,131.95"
                ,
                "22.92"
                ,
                "55.52"
                ,
                "1,252,603"

              ]

          }
          ,
          {
            "prov":
              "河南"
            ,
            "items":
              [
                "1,083,767.93"
                ,
                "-53.69"
                ,
                "52.82"
                ,
                "56.57"
                ,
                "8.77"
                ,
                "7,819.29"
                ,
                "249.91"
                ,
                "21,971.54"
                ,
                "311,256.10"
                ,
                "35.24"
                ,
                "48.71"
                ,
                "1,266,754"

              ]

          }
          ,
          {
            "prov":
              "上海"
            ,
            "items":
              [
                "446,505.95"
                ,
                "-18.27"
                ,
                "9.23"
                ,
                "69.49"
                ,
                "6.00"
                ,
                "5,306.26"
                ,
                "45.86"
                ,
                "4,566.71"
                ,
                "23,959.62"
                ,
                "3.95"
                ,
                "59.46"
                ,
                "51,195"

              ]

          }
          ,
          {
            "prov":
              "江苏"
            ,
            "items":
              [
                "650,632.86"
                ,
                "-148.99"
                ,
                "25.41"
                ,
                "64.70"
                ,
                "11.65"
                ,
                "4,966.02"
                ,
                "80.94"
                ,
                "6,488.10"
                ,
                "43,283.41"
                ,
                "7.78"
                ,
                "41.92"
                ,
                "75,454"

              ]

          }
          ,
          {
            "prov":
              "浙江"
            ,
            "items":
              [
                "492,553.70"
                ,
                "-45.51"
                ,
                "13.32"
                ,
                "59.34"
                ,
                "14.33"
                ,
                "5,326.06"
                ,
                "71.31"
                ,
                "5,662.84"
                ,
                "65,576.66"
                ,
                "11.16"
                ,
                "30.91"
                ,
                "82,791"

              ]

          }
          ,
          {
            "prov":
              "安徽"
            ,
            "items":
              [
                "366,373.61"
                ,
                "-77.97"
                ,
                "19.50"
                ,
                "62.49"
                ,
                "16.86"
                ,
                "5,142.35"
                ,
                "94.33"
                ,
                "6,984.22"
                ,
                "29,945.54"
                ,
                "13.11"
                ,
                "45.87"
                ,
                "82,237"

              ]

          }
          ,
          {
            "prov":
              "福建"
            ,
            "items":
              [
                "421,554.07"
                ,
                "-58.68"
                ,
                "11.09"
                ,
                "60.05"
                ,
                "12.60"
                ,
                "5,833.19"
                ,
                "49.71"
                ,
                "4,104.44"
                ,
                "53,868.50"
                ,
                "11.98"
                ,
                "42.01"
                ,
                "157,078"

              ]

          }
          ,
          {
            "prov":
              "江西"
            ,
            "items":
              [
                "168,904.37"
                ,
                "-49.07"
                ,
                "4.37"
                ,
                "51.23"
                ,
                "14.69"
                ,
                "1,730.87"
                ,
                "30.79"
                ,
                "2,771.15"
                ,
                "13,889.43"
                ,
                "3.86"
                ,
                "31.79"
                ,
                "72,693"

              ]

          }
          ,
          {
            "prov":
              "湖北"
            ,
            "items":
              [
                "588,990.89"
                ,
                "-96.19"
                ,
                "12.82"
                ,
                "63.66"
                ,
                "15.38"
                ,
                "-1,648.56"
                ,
                "91.66"
                ,
                "9,374.59"
                ,
                "58,669.41"
                ,
                "13.17"
                ,
                "34.40"
                ,
                "254,309"

              ]

          }
          ,
          {
            "prov":
              "湖南"
            ,
            "items":
              [
                "655,195.63"
                ,
                "-39.64"
                ,
                "29.50"
                ,
                "55.73"
                ,
                "8.30"
                ,
                "6,575.47"
                ,
                "111.63"
                ,
                "10,932.42"
                ,
                "89,641.52"
                ,
                "29.00"
                ,
                "41.09"
                ,
                "309,887"

              ]

          }
          ,
          {
            "prov":
              "广东"
            ,
            "items":
              [
                "1,521,859.70"
                ,
                "-337.64"
                ,
                "43.57"
                ,
                "62.21"
                ,
                "18.22"
                ,
                "-15,194.23"
                ,
                "151.80"
                ,
                "15,389.80"
                ,
                "144,065.30"
                ,
                "5.31"
                ,
                "25.83"
                ,
                "688,883"

              ]

          }
          ,
          {
            "prov":
              "广西"
            ,
            "items":
              [
                "295,260.21"
                ,
                "-70.94"
                ,
                "5.61"
                ,
                "64.27"
                ,
                "13.06"
                ,
                "-1,198.14"
                ,
                "50.31"
                ,
                "5,746.80"
                ,
                "50,913.70"
                ,
                "0.02"
                ,
                "66.67"
                ,
                "-979"

              ]

          }
          ,
          {
            "prov":
              "海南"
            ,
            "items":
              [
                "107,471.98"
                ,
                "-15.91"
                ,
                "2.58"
                ,
                "60.91"
                ,
                "17.12"
                ,
                "185.25"
                ,
                "15.12"
                ,
                "2,211.00"
                ,
                "10,470.95"
                ,
                "5.89"
                ,
                "54.84"
                ,
                "39,691"

              ]

          }
          ,
          {
            "prov":
              "重庆"
            ,
            "items":
              [
                "298,023.09"
                ,
                "-18.23"
                ,
                "15.76"
                ,
                "51.05"
                ,
                "9.39"
                ,
                "2,115.75"
                ,
                "45.69"
                ,
                "4,187.48"
                ,
                "41,039.82"
                ,
                "-2.18"
                ,
                "45.91"
                ,
                "51,270"

              ]

          }
          ,
          {
            "prov":
              "四川"
            ,
            "items":
              [
                "458,624.28"
                ,
                "-15.61"
                ,
                "17.58"
                ,
                "52.56"
                ,
                "9.56"
                ,
                "1,959.10"
                ,
                "74.00"
                ,
                "6,700.08"
                ,
                "30,538.90"
                ,
                "-0.58"
                ,
                "49.68"
                ,
                "58,580"

              ]

          }
          ,
          {
            "prov":
              "贵州"
            ,
            "items":
              [
                "272,119.88"
                ,
                "-39.95"
                ,
                "9.25"
                ,
                "56.67"
                ,
                "3.53"
                ,
                "-413.58"
                ,
                "37.64"
                ,
                "5,343.70"
                ,
                "56,641.25"
                ,
                "-3.11"
                ,
                "53.77"
                ,
                "-4,908"

              ]

          }
          ,
          {
            "prov":
              "云南"
            ,
            "items":
              [
                "156,542.08"
                ,
                "-2.58"
                ,
                "3.70"
                ,
                "43.12"
                ,
                "4.21"
                ,
                "-91.48"
                ,
                "21.12"
                ,
                "2,875.41"
                ,
                "33,951.86"
                ,
                "7.83"
                ,
                "49.06"
                ,
                "14,004"

              ]

          }
          ,
          {
            "prov":
              "西藏"
            ,
            "items":
              [
                "19,832.67"
                ,
                "-2.73"
                ,
                "1.13"
                ,
                "67.40"
                ,
                "0.02"
                ,
                "133.63"
                ,
                "2.04"
                ,
                "355.94"
                ,
                "870.71"
                ,
                "0.14"
                ,
                "8.82"
                ,
                "-"

              ]

          }
          ,
          {
            "prov":
              "陕西"
            ,
            "items":
              [
                "369,223.24"
                ,
                "-95.79"
                ,
                "14.64"
                ,
                "62.15"
                ,
                "11.53"
                ,
                "3,635.37"
                ,
                "56.60"
                ,
                "6,875.48"
                ,
                "33,906.99"
                ,
                "-2.16"
                ,
                "39.87"
                ,
                "-32,286"

              ]

          }
          ,
          {
            "prov":
              "甘肃"
            ,
            "items":
              [
                "138,664.22"
                ,
                "-39.04"
                ,
                "3.97"
                ,
                "54.49"
                ,
                "3.54"
                ,
                "248.58"
                ,
                "30.80"
                ,
                "3,235.12"
                ,
                "8,802.37"
                ,
                "-0.70"
                ,
                "21.88"
                ,
                "-3,031"

              ]

          }
          ,
          {
            "prov":
              "青海"
            ,
            "items":
              [
                "86,385.06"
                ,
                "-23.82"
                ,
                "2.42"
                ,
                "62.06"
                ,
                "4.71"
                ,
                "-541.98"
                ,
                "14.32"
                ,
                "1,723.99"
                ,
                "3,668.55"
                ,
                "2.11"
                ,
                "27.86"
                ,
                "27,742"

              ]

          }
          ,
          {
            "prov":
              "宁夏"
            ,
            "items":
              [
                "66,784.29"
                ,
                "9.64"
                ,
                "2.98"
                ,
                "57.22"
                ,
                "0.71"
                ,
                "140.41"
                ,
                "11.67"
                ,
                "1,060.24"
                ,
                "5,098.29"
                ,
                "1.14"
                ,
                "63.69"
                ,
                "20,044"

              ]

          }
          ,
          {
            "prov":
              "新疆"
            ,
            "items":
              [
                "347,125.44"
                ,
                "-8.82"
                ,
                "6.64"
                ,
                "63.01"
                ,
                "3.86"
                ,
                "187.11"
                ,
                "54.34"
                ,
                "6,754.72"
                ,
                "9,878.99"
                ,
                "2.99"
                ,
                "13.15"
                ,
                "52,310"

              ]

          }

        ],
        "title": [
          "省分"
          ,
          "移动业务收入|（非2I）"
          ,
          "移动业务净增出账|用户（非2I)"
          ,
          "冰激凌套餐发展量"
          ,
          "2I2C产品本年累计|业务转化率"
          ,
          "承诺低消用户|渗透率"
          ,
          "承诺低消用户|收入提升"
          ,
          "2G终端升3/4G|业务留存用户"
          ,
          "2G终端升3/4G|业务收入拉动"
          ,
          "宽带接入|及应用收入"
          ,
          "宽带接入|有效净增用户"
          ,
          "融合业务|宽带渗透率"
          ,
          "TV业务|净增网上用户"

        ]
      }, // 数据表格数据
      "divide": {
        "unit": [
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""
          ,
          ""

        ],
        "detail": [
          {
            "prov":
              "全国"
            ,
            "items":
              [
                "14.5"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "1.0"
                ,
                "0.0"
                ,
                "3.4"
                ,
                "5.0"
                ,
                "9.4"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "63.3"

              ]

          }
          ,
          {
            "prov":
              "北十省"
            ,
            "items":
              [
                "14.3"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "1.0"
                ,
                "0.7"
                ,
                "3.5"
                ,
                "5.0"
                ,
                "9.2"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "63.7"

              ]

          }
          ,
          {
            "prov":
              "南二十一"
            ,
            "items":
              [
                "14.3"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "4.8"
                ,
                "0.9"
                ,
                "0.0"
                ,
                "3.2"
                ,
                "5.0"
                ,
                "9.8"
                ,
                "2.8"
                ,
                "10.0"
                ,
                "2.6"
                ,
                "68.4"

              ]

          }
          ,
          {
            "prov":
              "北京"
            ,
            "items":
              [
                "13.5"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.8"
                ,
                "4.4"
                ,
                "5.0"
                ,
                "9.5"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "63.2"

              ]

          }
          ,
          {
            "prov":
              "天津"
            ,
            "items":
              [
                "14.0"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "4.7"
                ,
                "4.4"
                ,
                "10.0"
                ,
                "15.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "78.1"

              ]

          }
          ,
          {
            "prov":
              "河北"
            ,
            "items":
              [
                "14.4"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "3.4"
                ,
                "0.0"
                ,
                "3.0"
                ,
                "3.4"
                ,
                "5.0"
                ,
                "9.2"
                ,
                "0.0"
                ,
                "1.5"
                ,
                "0.0"
                ,
                "54.9"

              ]

          }
          ,
          {
            "prov":
              "山西"
            ,
            "items":
              [
                "14.5"
                ,
                "0.5"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.7"
                ,
                "0.0"
                ,
                "3.8"
                ,
                "5.0"
                ,
                "9.0"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "63.5"

              ]

          }
          ,
          {
            "prov":
              "内蒙古"
            ,
            "items":
              [
                "13.6"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "3.2"
                ,
                "5.0"
                ,
                "9.4"
                ,
                "0.0"
                ,
                "5.0"
                ,
                "3.9"
                ,
                "60.1"

              ]

          }
          ,
          {
            "prov":
              "辽宁"
            ,
            "items":
              [
                "14.1"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "2.0"
                ,
                "3.0"
                ,
                "3.6"
                ,
                "5.0"
                ,
                "9.9"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "67.6"

              ]

          }
          ,
          {
            "prov":
              "吉林"
            ,
            "items":
              [
                "14.5"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "2.6"
                ,
                "1.6"
                ,
                "0.0"
                ,
                "3.5"
                ,
                "5.0"
                ,
                "9.7"
                ,
                "0.0"
                ,
                "7.7"
                ,
                "0.0"
                ,
                "59.6"

              ]

          }
          ,
          {
            "prov":
              "黑龙江"
            ,
            "items":
              [
                "13.2"
                ,
                "3.5"
                ,
                "15.0"
                ,
                "4.9"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "3.6"
                ,
                "5.0"
                ,
                "8.3"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "63.5"

              ]

          }
          ,
          {
            "prov":
              "山东"
            ,
            "items":
              [
                "15.0"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "2.7"
                ,
                "2.0"
                ,
                "3.0"
                ,
                "3.4"
                ,
                "5.0"
                ,
                "8.8"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "64.9"

              ]

          }
          ,
          {
            "prov":
              "河南"
            ,
            "items":
              [
                "14.4"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "3.3"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "3.5"
                ,
                "5.0"
                ,
                "8.6"
                ,
                "1.1"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "60.9"

              ]

          }
          ,
          {
            "prov":
              "上海"
            ,
            "items":
              [
                "14.6"
                ,
                "0.0"
                ,
                "14.1"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.6"
                ,
                "4.5"
                ,
                "5.0"
                ,
                "9.6"
                ,
                "15.0"
                ,
                "1.6"
                ,
                "5.0"
                ,
                "75.0"

              ]

          }
          ,
          {
            "prov":
              "江苏"
            ,
            "items":
              [
                "14.8"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.9"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "4.4"
                ,
                "10.0"
                ,
                "2.2"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "62.3"

              ]

          }
          ,
          {
            "prov":
              "浙江"
            ,
            "items":
              [
                "14.5"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "4.7"
                ,
                "1.8"
                ,
                "3.0"
                ,
                "0.0"
                ,
                "4.9"
                ,
                "9.0"
                ,
                "8.9"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "71.8"

              ]

          }
          ,
          {
            "prov":
              "安徽"
            ,
            "items":
              [
                "14.5"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "2.0"
                ,
                "1.5"
                ,
                "3.6"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "15.0"
                ,
                "10.0"
                ,
                "2.0"
                ,
                "83.6"

              ]

          }
          ,
          {
            "prov":
              "福建"
            ,
            "items":
              [
                "14.7"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "1.2"
                ,
                "3.0"
                ,
                "3.5"
                ,
                "4.8"
                ,
                "8.2"
                ,
                "10.5"
                ,
                "10.0"
                ,
                "5.0"
                ,
                "80.9"

              ]

          }
          ,
          {
            "prov":
              "江西"
            ,
            "items":
              [
                "14.1"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "0.6"
                ,
                "1.9"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "5.0"
                ,
                "8.7"
                ,
                "10.1"
                ,
                "10.0"
                ,
                "5.0"
                ,
                "70.4"

              ]

          }
          ,
          {
            "prov":
              "湖北"
            ,
            "items":
              [
                "14.5"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "2.0"
                ,
                "0.0"
                ,
                "3.0"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "15.0"
                ,
                "10.0"
                ,
                "5.0"
                ,
                "84.5"

              ]

          }
          ,
          {
            "prov":
              "湖南"
            ,
            "items":
              [
                "14.5"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "2.9"
                ,
                "0.0"
                ,
                "0.8"
                ,
                "0.0"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "15.0"
                ,
                "10.0"
                ,
                "4.5"
                ,
                "77.7"

              ]

          }
          ,
          {
            "prov":
              "广东"
            ,
            "items":
              [
                "13.8"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "1.6"
                ,
                "0.0"
                ,
                "3.2"
                ,
                "5.0"
                ,
                "9.9"
                ,
                "0.0"
                ,
                "8.8"
                ,
                "5.0"
                ,
                "67.3"

              ]

          }
          ,
          {
            "prov":
              "广西"
            ,
            "items":
              [
                "13.4"
                ,
                "0.0"
                ,
                "10.3"
                ,
                "5.0"
                ,
                "1.4"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "5.0"
                ,
                "9.4"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "54.5"

              ]

          }
          ,
          {
            "prov":
              "海南"
            ,
            "items":
              [
                "14.7"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "2.0"
                ,
                "0.0"
                ,
                "3.6"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "15.0"
                ,
                "10.0"
                ,
                "5.0"
                ,
                "85.3"

              ]

          }
          ,
          {
            "prov":
              "重庆"
            ,
            "items":
              [
                "14.4"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "0.5"
                ,
                "0.1"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "55.0"

              ]

          }
          ,
          {
            "prov":
              "四川"
            ,
            "items":
              [
                "14.3"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "1.3"
                ,
                "0.2"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "45.8"

              ]

          }
          ,
          {
            "prov":
              "贵州"
            ,
            "items":
              [
                "14.6"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "3.3"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "3.0"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "60.9"

              ]

          }
          ,
          {
            "prov":
              "云南"
            ,
            "items":
              [
                "14.7"
                ,
                "0.0"
                ,
                "9.6"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "5.0"
                ,
                "9.7"
                ,
                "15.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "64.0"

              ]

          }
          ,
          {
            "prov":
              "西藏"
            ,
            "items":
              [
                "14.9"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "-"
                ,
                "-"
                ,
                "8.7"
                ,
                "12.5"
                ,
                "0.0"
                ,
                "-"
                ,
                "56.1"

              ]

          }
          ,
          {
            "prov":
              "陕西"
            ,
            "items":
              [
                "14.6"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.8"
                ,
                "0.0"
                ,
                "3.5"
                ,
                "5.0"
                ,
                "8.7"
                ,
                "0.0"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "62.6"

              ]

          }
          ,
          {
            "prov":
              "甘肃"
            ,
            "items":
              [
                "12.2"
                ,
                "0.0"
                ,
                "14.5"
                ,
                "2.2"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "3.0"
                ,
                "5.0"
                ,
                "8.8"
                ,
                "0.0"
                ,
                "8.2"
                ,
                "0.0"
                ,
                "53.9"

              ]

          }
          ,
          {
            "prov":
              "青海"
            ,
            "items":
              [
                "13.0"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "4.0"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "15.0"
                ,
                "10.0"
                ,
                "5.0"
                ,
                "82.0"

              ]

          }
          ,
          {
            "prov":
              "宁夏"
            ,
            "items":
              [
                "15.0"
                ,
                "5.0"
                ,
                "15.0"
                ,
                "3.6"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "3.6"
                ,
                "5.0"
                ,
                "10.0"
                ,
                "12.2"
                ,
                "10.0"
                ,
                "0.0"
                ,
                "79.4"

              ]

          }
          ,
          {
            "prov":
              "新疆"
            ,
            "items":
              [
                "14.9"
                ,
                "0.0"
                ,
                "15.0"
                ,
                "5.0"
                ,
                "0.0"
                ,
                "0.0"
                ,
                "-"
                ,
                "-"
                ,
                "10.0"
                ,
                "15.0"
                ,
                "0.9"
                ,
                "0.0"
                ,
                "60.8"

              ]

          }

        ],
        "title": [
          "省分"
          ,
          "移动业务收入|（非2I）"
          ,
          "移动业务净增出账|用户（非2I)"
          ,
          "冰激凌套餐发展量"
          ,
          "2I2C产品本年累计|业务转化率"
          ,
          "承诺低消用户|渗透率"
          ,
          "承诺低消用户|收入提升"
          ,
          "2G终端升3/4G|业务留存用户"
          ,
          "2G终端升3/4G|业务收入拉动"
          ,
          "宽带接入|及应用收入"
          ,
          "宽带接入|有效净增用户"
          ,
          "融合业务|宽带渗透率"
          ,
          "TV业务|净增网上用户"
          ,
          "总分"

        ]
      }  // 分值表格数据
    }
  }

  componentWillMount() {
  }

  componentDidMount(){
    const {dispatch} = this.props;
    const params={"month":"","markType":"03201"}
    dispatch({
      type: 'ThemeMonthCheckModels/fetchProvItemRanking',
      payload: params
    });
  }

  componentWillReceiveProps(nextProps){
    const {date} = this.props
    if (nextProps.date !== date) {
      const {dispatch} = this.props;
      const params = {"month": nextProps.date, "markType": "03201"}
      dispatch({
        type: 'ThemeMonthCheckModels/fetchProvItemRanking',
        payload: params
      });
    }
  }

  // 处理表头格式

  handleTh = (divide) => {
    const sw=window.screen.width
    let tableWitch=150
    if(sw>1870){
      tableWitch=200
    }
    const columns = [];
    const {title,unit} = divide;
    console.log("表头title")
    console.log(title)
    title.map((item, index) => {
      let arr=[];
      if(item.indexOf("|")!==-1)
      {
        arr=item.split("|")
      }
      else {
        arr[0]=item;
        arr[1]="—"
      }
      if (index === 0) {
        const th = {title: `${item}`, width: tableWitch, dataIndex: 'pro', key: 'pro', fixed: 'left', align: "center"}
        columns.push(th)
      }
      else {
        const titles=<div><span>{arr[0]}</span><br /><span>{arr[1]}</span><br /><span>{unit[index]}</span></div>
        const th = {title: titles, width: tableWitch, dataIndex: `data${index - 1}`, key: `${index}`,sorter: (a,b) => this.tableSort(a,b,index) , align: "center"}
        columns.push(th)
      }
      return columns
    });
    return columns
  };

  // 处理表格数据格式

  handleTbody = (divide) => {
    const TbodyData = [];
    const {detail} = divide;
    detail.map((item, index) => {
      const td = {key: `${index}`, pro: `${item.prov}`}
      item.items.map((itemData, i) => {
        td[`data${i}`] = String(itemData)
        return td
      })
      TbodyData.push(td)
      return td
    })
    return TbodyData
  }

  // 表格排序
  tableSort=(a,b,index)=>{
    let stringB=b[`data${index-1}`];
    if(stringB==="-"){stringB="-10000"}
    let stringA=a[`data${index-1}`];
    if(stringA==="-"){stringA="-10000"}
    const bb=Number(stringB.replace(/,/g,''));
    const aa=Number(stringA.replace(/,/g,''));
    return(bb -aa)
  };

  choose=(num)=>{
    const {choose}=this.state;
    if(num!==choose){
      this.setState({
        choose:num
      })
    }
  }



  jsonHandle=()=>{
    const {choose,divide,data}=this.state
    const {date} = this.props
    let name;
    if(choose===1){
      name="分值"
    }
    else {
      name="数据"
    }
    console.log(date)
    const condition = {
      name: `重点产品攻坚月考核-${name}表`,
      value: [
        ["指标名称:", `重点产品攻坚月考核-${name}表`],
        ["筛选条件:"],
        ["条件:", name],
        ["日期:", `${date}`]
      ],
    }
    let table={}
    if(choose===1){
      const {title,detail}=divide
      const firstLine=[];
      const secondLine=[];
      const detailValue=[]
      title.map((item)=>{
        let arr=[]
        if(item.indexOf("|")!==-1)
        {
          arr=item.split("|")
          firstLine.push(arr[0])
          secondLine.push(arr[1])
        }
        else {
         firstLine.push(item);
         secondLine.push("-")
        }
        return firstLine
      })
      detail.map((item)=>{
       item.items.unshift(item.prov)
        detailValue.push(item.items)
        return detailValue
      })
      const tableTitle=[firstLine,secondLine]
      table = {
        title: tableTitle,
        value:detailValue
      }
    }else{
      const {title,detail}=data
      const detailValue=[]
      const firstLine=[];
      const secondLine=[]
      title.map((item)=>{
        let arr=[]
        if(item.indexOf("|")!==-1)
        {
          arr=item.split("|")
          firstLine.push(arr[0])
          secondLine.push(arr[1])
        }
        else {
          firstLine.push(item);
          secondLine.push("-")
        }
        return firstLine
      });
      detail.map((item)=>{
        item.items.unshift(item.prov);
        detailValue.push(item.items);
        return detailValue
      });
      const tableTitle=[firstLine,secondLine];
      table = {
        title: tableTitle,
        value:detailValue
      }
    }

    const newJson = {
      fileName: `重点产品攻坚月考核-${name}表`,
      condition,
      table
    };
    return newJson;
  };

  download(e){
    e.stopPropagation();
    DownloadFile(this.jsonHandle());
  }

  render() {
    const sw=window.screen.width
    let tableWitch=150
    if(sw>1870){
      tableWitch=200
    }
    if(this.tableScrollRef.current){
      const Dom2=document.querySelector(".ant-table-body");
      Dom2.scrollLeft=100000;
    }
   const {ThemeMonthCheckModels}=this.props;
    const {provItemRanking}=ThemeMonthCheckModels;
    const {divide,data,choose} = this.state;
    let Tdata;
    let columns
    if(provItemRanking.divide!==undefined) {
      this.setState({
        divide: provItemRanking.divide,
        data: provItemRanking.data
      })
    }
    if(choose === 1){
       Tdata = this.handleTbody(divide);
       columns = this.handleTh(divide)
    }
    else {
      Tdata = this.handleTbody(data);
      columns = this.handleTh(data)
    }

    return (
      <div className={styles.cityRankTable} id="CityRankTable">
        <div className={styles.clear} />
        <div className={styles.themeTitle}>
          <span className={styles.title}>省分分项排名分数</span>
          <span className={choose === 1 ? `${styles.choose}` : `${styles.nochoose}`} onClick={() => {this.choose(1)}}>分值</span>
          <span className={choose === 2 ? `${styles.choose}` : `${styles.nochoose}`} onClick={() => {this.choose(2)}}>数据</span>
          <span className={styles.downloadName}><Button size="small" icon="download" onClick={(e)=>{this.download(e)}}>下载</Button></span>
        </div>
        <Table
          ref={this.tableScrollRef}
          columns={columns}
          dataSource={Tdata}
          scroll={{x: (tableWitch * columns.length)}}
          className={styles.table}
          pagination={false}
          // style={data.key%2===0?{backgroundColor:"red"}:{backgroundColor:"green"}}
          rowClassName={(record, index) => {
            let className = styles['light-row'];
            if (index % 2 === 1) className = styles['dark-row'];
            return className;
          }}
        />
      </div>
    )
  }

}

export default CityRankTable
